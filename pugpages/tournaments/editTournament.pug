include /components/atoms/tournamentTypeBadge.pug
include /components/tabBar.pug
include /components/topBar.pug
include /components/editBlock.pug
include /components/editLabel.pug
include /components/filters/filterButtonsRow.pug
include /components/atoms/breadcrumbs.pug
include /components/filters/tournamentTypeButton.pug
include /components/inputs/select.pug
include /components/inputs/input.pug
include /components/inputs/switch.pug
include /components/inputs/textarea.pug
include /components/atoms/button.pug
include /components/modal.pug

doctype html
html(lang="ru")
    head
        meta(charset="UTF-8")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        title –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞
        link(href="../../styles.css" rel="stylesheet")
        base(href="../../")
    body.bg-page-background.py-12.pb-32
        +topBar
        +breadcrumbs([{name: '–¢—É—Ä–Ω–∏—Ä –ú–∞–π—Å–∫–∏–π —Ñ–µ—Å—Ç–∏–≤–∞–ª—å –º–∏–∫—Å—Ç–æ–≤', href: '#'}, {name: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ'}])
        div(class="flex flex-col items-center w-full mx-auto 430:w-fit")
            +editBlock('–®–∞–±–ª–æ–Ω—ã', 'templateHint')
                +filterButtonsRow([
                    { label: '–°—Ä–µ–¥–∞ 14:00', active: true, number: undefined, deleteButton: true},
                    { label: '–í—Ç–æ—Ä–Ω–∏–∫ 17:30', active: false, number: undefined, deleteButton: true},
                ])
            +editBlock('–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è')
                +editLabel('–¢–∏–ø —Ç—É—Ä–Ω–∏—Ä–∞', '', false, '', false, 'tournamentType')
                div(class="flex gap-2 scroll-smooth overflow-x-auto -mx-4 px-4 no-scrollbar mb-8")
                    +tournamentTypeButton('single', 'all', true)
                    +tournamentTypeButton('single', 'male', false)
                    +tournamentTypeButton('double', 'all', false)
                    +tournamentTypeButton('double', 'male', false)
                    +tournamentTypeButton('double', 'female', false)
                    +tournamentTypeButton('double', 'mixed', false)
                    +tournamentTypeButton('team', 'all', false)
                div.pb-4
                    +editLabel('–ó–∞–≥–æ–ª–æ–≤–æ–∫', '', false, '', false, 'title')
                    +select('–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫')
                +editLabel('–ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ', '', false, '', false, 'fullName')
                +input('–ù–∞–∑–≤–∞–Ω–∏–µ', 'w-full', 'fullName', '', '', '', '', '–û—à–∏–±–∫–∞')
            +editBlock('–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è')
                div(class="flex gap-1 justify-between mb-6")
                    +editLabel('–î–∞—Ç–∞ —Ç—É—Ä–Ω–∏—Ä–∞', '', true, '', true, 'tournamentDate')
                    +input('', '', 'tournamentDate', 'date')
                +editLabel('–í—Ä–µ–º—è', '', false, '', false, 'tournamentTime')
                div(class="flex gap-1 justify-between mb-6")
                    div(class="flex flex-col")
                        label(for="from" class="text-sm text-lab-black-50") –ù–∞—á–∞–ª–æ
                        +input('', '', 'from', 'time')
                    div(class="flex flex-col")
                        label(for="to" class="text-sm text-lab-black-50") –ö–æ–Ω–µ—Ü
                        +input('', '', 'to', 'time')
                    div(class="flex flex-col")
                        label(for="warmup" class="text-sm text-lab-black-50") –†–∞–∑–º–∏–Ω–∫–∞
                        +input('', '', 'warmup', 'time')

                +editLabel('–û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏', '', false, '', false, 'registrationStart')
                div(class="flex border border-lab-black-30 rounded-lg overflow-hidden mb-8")
                    button(class="minus-button text-2xl bg-white px-3 py-1 w-11 focus:outline-none") ‚Äì
                    div(class="flex flex-col items-center justify-center py-1 gap-1 flex-1 border-l border-r border-lab-black-30" id="info")
                        div(id="days" class="text-lab-color leading-tight") –∑–∞ 1 –¥–µ–Ω—å 
                        span(class="text-lab-black-50 text-xs" id="dateTime") 15 –º–∞—è 12:00
                        div(class="text-lab-black-50 text-xs" id="price") +100‚ÇΩ
                    button(class="plus-button text-2xl bg-white px-3 py-1 w-11 focus:outline-none") +
                script.
                    document.addEventListener('DOMContentLoaded', () => {
                        const minusButton = document.querySelector('.minus-button');
                        const plusButton = document.querySelector('.plus-button');
                        const daysDiv = document.getElementById('days');
                        const priceDiv = document.getElementById('price');
                        const dateTimeDiv = document.getElementById('dateTime');

                        let dayCount = 1;
                        let pricePerDay = 100;

                        const getDayWord = (count) => {
                            if (count === 1) {
                                return '–¥–µ–Ω—å';
                            } else if (count > 1 && count < 5) {
                                return '–¥–Ω—è';
                            } else {
                                return '–¥–Ω–µ–π';
                            }
                        }

                        const updateDateTime = () => {
                            const now = new Date();
                            now.setDate(now.getDate() + dayCount);
                            const months = ['—è–Ω–≤–∞—Ä—è', '—Ñ–µ–≤—Ä–∞–ª—è', '–º–∞—Ä—Ç–∞', '–∞–ø—Ä–µ–ª—è', '–º–∞—è', '–∏—é–Ω—è', '–∏—é–ª—è', '–∞–≤–≥—É—Å—Ç–∞', '—Å–µ–Ω—Ç—è–±—Ä—è', '–æ–∫—Ç—è–±—Ä—è', '–Ω–æ—è–±—Ä—è', '–¥–µ–∫–∞–±—Ä—è'];
                            dateTimeDiv.textContent = `${now.getDate()} ${months[now.getMonth()]} 12:00`;
                        }

                        const updateInfo = () => {
                            daysDiv.textContent = `–∑–∞ ${dayCount} ${getDayWord(dayCount)}`;
                            priceDiv.textContent = `+${pricePerDay * dayCount}‚ÇΩ`;
                            updateDateTime();
                        }

                        minusButton.addEventListener('click', () => {
                            if(dayCount > 1) {
                                dayCount--;
                                updateInfo();
                            }
                        });

                        plusButton.addEventListener('click', () => {
                            dayCount++;
                            updateInfo();
                        });

                        updateInfo();
                    });

            +editBlock('–£—á–∞—Å—Ç–Ω–∏–∫–∏')
                +editLabel('–†–µ–π—Ç–∏–Ω–≥ –¥–ª—è –¥–æ–ø—É—Å–∫–∞', 'rating-info', false, '', false, 'ratingAdmission')
                div(class="flex items-center gap-2 justify-between mb-2")
                    div(class="flex items-center gap-2")
                        div(class="flex items-center -space-x-2")
                            span üë®üèª
                            span üë®üèª
                        +input('–æ—Ç', 'w-16', 'ratingFrom1', 'number')
                        +input('–¥–æ', 'w-16', 'ratingTo1', 'number')
                    div(class="flex items-center gap-2")
                        span üë®üèª
                        +input('–¥–æ', 'w-16', 'ratingTo2', 'number')
                div(class="flex items-center gap-2 justify-between mb-4")
                    div(class="flex items-center gap-2")
                        div(class="flex items-center -space-x-2")
                            span üë©üèº
                            span üë©üèº
                        +input('–æ—Ç', 'w-16', 'ratingFrom2', 'number')
                        +input('–¥–æ', 'w-16', 'ratingTo3', 'number')
                    div(class="flex items-center gap-2")
                        span üë©üèº
                        +input('–¥–æ', 'w-16', 'ratingTo4', 'number')
                div(class="flex items-center gap-2 justify-between mb-6")
                    div(class="flex items-center gap-2")
                        div(class="flex items-center -space-x-2")
                            span üë©üèº
                            span üë®üèª
                        +input('–æ—Ç', 'w-16', 'ratingFrom3', 'number')
                        +input('–¥–æ', 'w-16', 'ratingTo5', 'number')
                    div(class="flex items-center gap-2")
                        span üë®üèª
                        +input('–¥–æ', 'w-16', 'ratingTo6', 'number')
                div(class="flex items-center justify-between gap-2 mb-2")
                    +editLabel('–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª-–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', '', true, '', false, 'maxParticipants')
                    +input('', 'w-16', 'maxParticipants', 'number')
                +switch('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞', 'py-4', 'text-lab-black-50', 'overLimitRegistration')
                div(class="flex items-center justify-between gap-2 mt-2 mb-6")
                    +editLabel('–í–∑–Ω–æ—Å —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞ (—Ä—É–±)', '', true, '', false, 'feePerParticipant')
                    +input('', 'w-16', 'feePerParticipant', 'number')
                +editLabel('–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –∫ –≤–∑–Ω–æ—Å—É', '', false, '', false, 'feeNote')
                +textarea('–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ', 'w-full', 'feeNote')
            +editBlock('–û —Ç—É—Ä–Ω–∏—Ä–µ')  
                +editLabel('–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è', '', false, '', false, 'tournamentSystem')
                +textarea('', 'w-full mb-4', 'tournamentSystem')
                +editLabel('–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥', '', false, '', false, 'prizeFund')
                +textarea('', 'w-full mb-4', 'prizeFund')
                +editLabel('–û–ø–∏—Å–∞–Ω–∏–µ –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ', '', false, '', false, 'freeFormDescription')
                +textarea('', 'w-full mb-4', 'freeFormDescription')
                +editLabel('–ü–æ–ª–æ–∂–µ–Ω–∏–µ', '', false, '', false, 'regulations')
                +textarea('', 'w-full mb-4', 'regulations')
            +editBlock('–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏')  
                div(class="flex items-center justify-between gap-2 mb-2")
                    +editLabel('–î–æ–ø—É—Å–∫ –ø–æ –¥–∞—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥–∞', '', true, '', false, 'ratingDate')
                    +input('', '', 'ratingDate', 'date')
                +switch('–ó–∞–∫—Ä—ã—Ç–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è', '', 'closedRegistration')
                div(class="flex items-center justify-between gap-2 mt-2")
                    +editLabel('–ö–æ—Ä—Ç—ã –ø–æ–¥ —Ç—É—Ä–Ω–∏—Ä', '', true, '', false, 'tournamentCourts')
                    span(class="shrink-0 grow") ‚Ññ3, 4
                    a(href="gotobooking" class="text-sm") –ò–∑–º–µ–Ω–∏—Ç—å 
            +editBlock('–ü–æ–≤—Ç–æ—Ä—è—Ç—å')
                +switch('–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é', 'py-0', 'repeatTournament')
            +editBlock('–ö–æ–Ω—Ç–∞–∫—Ç—ã', '', '–ï—Å–ª–∏ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–∞–∫—Ç –∫–ª—É–±–∞')
                +editLabel('–ò–º—è', '', false, '', false, 'contactName')
                +input('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞', 'w-full mb-6', 'contactName')
                +editLabel('–¢–µ–ª–µ—Ñ–æ–Ω', '', false, '', false, 'contactPhone')
                +input('–¢–µ–ª–µ—Ñ–æ–Ω', 'w-full mb-6', 'contactPhone')
                +button('–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç', 'default', '', 'bg-slate-100', 'border')
            +editBlock('–ê—Ñ–∏—à–∞ —Ç—É—Ä–Ω–∏—Ä–∞ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (+100‚ÇΩ)')
                img(src="dynamic-img/banner.png" class="mx-auto w-full pb-4")
                div(class="flex gap-2 mb-4")
                    +button('–ó–∞–≥—Ä—É–∑–∏—Ç—å', 'default', 'white', 'bg-lab-color')
                    +button('–£–¥–∞–ª–∏—Ç—å', 'default', 'lab-red', 'bg-white', 'border border-lab-red')
                span.text-sm.font-bold –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞—Ñ–∏—à–µ
                    br
                span.text-xs –ù–µ –º–µ–Ω–µ–µ 200—Ö100 –ø–∏–∫—Å–µ–ª–µ–π
                    br 
                    | –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ - JPG, PNG, WebP
                    br
                    | –ü—Ä–æ–ø–æ—Ä—Ü–∏–∏ - 2:1

            +editBlock('–û–Ω–ª–∞–π–Ω-—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏')
                div(class="flex flex-col gap-2 mb-6")
                    div(class="flex gap-1")
                        label(class="text-sm text-lab-black-50 w-16") ‚Ññ –∫–æ—Ä—Ç–∞
                        label(class="text-sm text-lab-black-50") –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é –≤ Youtube
                    div(class="flex gap-3 justify-between items-center")
                        +input('', 'w-14', 'courtNumber1', '', 'h-14 text-center', '1') 
                        +textarea('https://www.youtube.com/watch?v=...', '', 'courtStream1', 'leading-tight grow', 'https://www.youtube.com/watch?v=vJTf_NtwyUo')
                        div.text-lab-black-50 ‚úï
                    div(class="flex gap-3 justify-between items-center")
                        +input('', 'w-14', 'courtNumber2', '', 'h-14 text-center') 
                        +textarea('https://www.youtube.com/watch?v=...', '', 'courtStream2', 'leading-tight grow')

                +button('+ –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é', 'default', '', 'bg-slate-100', 'border')
            +editBlock('–®–∞–±–ª–æ–Ω—ã', '', '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è –±—É–¥—É—â–∏—Ö —Ç—É—Ä–Ω–∏—Ä–æ–≤')
                div(class="flex items-center gap-1") 
                    +editLabel('–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –∫–∞–∫', '' , true, '', false, 'templateName')  
                    +input('–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞', 'w-full', 'templateName')

        div(class="fixed pb-safe-extra-panel w-full z-20 bg-white drop-shadow-top p-4 border-b")
            +button('–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è', 'default', 'white', 'bg-lab-color')

        +modal('–£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω', [
            {text: '–ù–µ—Ç', variant: 'default', color: 'white', bgColor: 'bg-lab-color', extraClasses: 'mr-2', id: 'button1'},
            {text: '–î–∞', variant: 'default', color: 'white', bgColor: 'bg-lab-red', extraClasses: '', id: 'button2'}
        ], "modal-delete-template")

        +modal('', [], "modal-info")
            h3.font-bold.mb-3 –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–∞—Ä –∏ –∏–≥—Ä–æ–∫–æ–≤
            p.text-sm.text-left.leading-tight –î–ª—è #[strong –æ–¥–∏–Ω–æ—á–Ω—ã—Ö] —Ç—É—Ä–Ω–∏—Ä–æ–≤ —É–∫–∞–∂–∏—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏–≥—Ä–æ–∫–∞, –ª–∏–±–æ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—è –ø—É—Å—Ç—ã–º–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ç—É—Ä–Ω–∏—Ä–∞. 
            p.text-sm.text-left.leading-tight –î–ª—è #[strong –ø–∞—Ä–Ω—ã—Ö] —Ç—É—Ä–Ω–∏—Ä–æ–≤ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–∞—Ä—ã –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–∞ –≤ –ø–∞—Ä–µ. 
            p.text-sm.text-left.leading-tight –†–µ–π—Ç–∏–Ω–≥ –ø–∞—Ä—ã ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏–≥—Ä–æ–∫–æ–≤ –≤ –ø–∞—Ä–µ. 

        script.
            document.addEventListener('DOMContentLoaded', () => {
                const deleteButtons = document.querySelectorAll('.deleteButton'); 
                const modalDeleteTemplate = document.querySelector('#modal-delete-template');
                const infoButton = document.querySelector('#rating-info');
                const modalInfo = document.querySelector('#modal-info');

                deleteButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        modalDeleteTemplate.style.display = 'flex'; 
                    });
                });

                infoButton.addEventListener('click', () => {
                    modalInfo.style.display = 'block'; 
                });
            });

        +tabBar('–¢—É—Ä–Ω–∏—Ä—ã')